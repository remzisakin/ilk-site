<!DOCTYPE html>
<html lang="tr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>POCAHONTAS | LLM Sohbet Deneyimi</title>
    <style>
      :root {
        color-scheme: dark;
        font-family: 'Segoe UI', 'Poppins', 'Roboto', sans-serif;
        --khaki-900: #10140b;
        --khaki-800: #161d0f;
        --khaki-700: #1f2615;
        --khaki-500: #3f4a23;
        --khaki-300: #6f8b3a;
        --mustard-400: #d4a017;
        --mustard-300: #f0d98a;
        background-color: var(--khaki-900);
        color: #f7f5e8;
      }

      * {
        box-sizing: border-box;
      }

      body {
        margin: 0;
        min-height: 100vh;
        background: radial-gradient(circle at top left, rgba(79, 94, 50, 0.25), transparent 45%),
          radial-gradient(circle at bottom right, rgba(212, 160, 23, 0.18), transparent 50%), var(--khaki-900);
        color: #f7f5e8;
        display: flex;
        justify-content: center;
        padding: 3rem 1.5rem 4rem;
      }

      .app-shell {
        width: min(960px, 100%);
        display: flex;
        flex-direction: column;
        gap: 2.5rem;
      }

      .top-bar {
        position: sticky;
        top: 1.5rem;
        display: flex;
        align-items: center;
        gap: 1.25rem;
        padding: 1rem 1.5rem;
        border-radius: 18px;
        background: rgba(31, 38, 21, 0.85);
        backdrop-filter: blur(12px);
        border: 1px solid rgba(212, 160, 23, 0.25);
        box-shadow: 0 18px 48px rgba(0, 0, 0, 0.35);
        z-index: 10;
      }

      .brand {
        display: inline-flex;
        align-items: center;
        gap: 0.85rem;
        text-decoration: none;
        color: inherit;
      }

      .brand-art {
        display: inline-flex;
        width: 64px;
        height: 64px;
        border-radius: 50%;
        overflow: hidden;
        background: rgba(15, 23, 15, 0.8);
        box-shadow: 0 0 0 3px rgba(212, 160, 23, 0.4), 0 10px 18px rgba(0, 0, 0, 0.45);
      }

      .brand-art svg {
        width: 100%;
        height: 100%;
      }

      .brand-name {
        font-weight: 700;
        letter-spacing: 0.18em;
        font-size: 1.1rem;
        text-transform: uppercase;
      }

      .menu-toggle {
        margin-left: auto;
        background: linear-gradient(135deg, rgba(212, 160, 23, 0.85), rgba(111, 139, 58, 0.95));
        color: #10140b;
        font-weight: 700;
        border: none;
        padding: 0.75rem 1.2rem;
        border-radius: 14px;
        cursor: pointer;
        display: inline-flex;
        align-items: center;
        gap: 0.6rem;
        box-shadow: 0 14px 30px rgba(212, 160, 23, 0.25);
        transition: transform 0.2s ease, box-shadow 0.2s ease;
      }

      .menu-toggle:hover,
      .menu-toggle:focus-visible {
        transform: translateY(-1px);
        box-shadow: 0 16px 32px rgba(212, 160, 23, 0.35);
      }

      .menu-toggle:focus-visible {
        outline: 2px solid var(--mustard-400);
        outline-offset: 4px;
      }

      .toggle-icon {
        position: relative;
        width: 18px;
        height: 12px;
      }

      .toggle-icon::before,
      .toggle-icon::after,
      .toggle-icon {
        background: currentColor;
        border-radius: 999px;
        display: block;
        content: '';
      }

      .toggle-icon::before,
      .toggle-icon::after {
        position: absolute;
        left: 0;
        width: 18px;
        height: 2px;
        background: currentColor;
      }

      .toggle-icon::before {
        top: 0;
      }

      .toggle-icon::after {
        bottom: 0;
      }

      .menu {
        position: absolute;
        top: calc(100% + 0.75rem);
        right: 1.5rem;
        list-style: none;
        padding: 0.75rem;
        margin: 0;
        border-radius: 16px;
        background: rgba(18, 24, 14, 0.95);
        border: 1px solid rgba(212, 160, 23, 0.35);
        box-shadow: 0 18px 38px rgba(0, 0, 0, 0.45);
        display: grid;
        gap: 0.25rem;
        min-width: 220px;
        overflow: hidden;
        max-height: 0;
        opacity: 0;
        transform: translateY(-0.75rem);
        pointer-events: none;
        transition: max-height 0.35s ease, opacity 0.25s ease, transform 0.35s ease;
      }

      .menu.is-open {
        max-height: 480px;
        opacity: 1;
        transform: translateY(0);
        pointer-events: auto;
      }

      .menu[hidden] {
        display: none;
      }

      .menu li {
        border-radius: 10px;
      }

      .menu a {
        display: block;
        padding: 0.65rem 0.85rem;
        text-decoration: none;
        color: #f5f2d7;
        font-weight: 600;
        border-radius: 10px;
        transition: background 0.2s ease, color 0.2s ease;
      }

      .menu a:hover,
      .menu a:focus-visible {
        background: rgba(212, 160, 23, 0.12);
        color: var(--mustard-300);
        outline: none;
      }

      .content {
        background: linear-gradient(145deg, rgba(22, 29, 15, 0.92), rgba(34, 43, 22, 0.92));
        border-radius: 28px;
        padding: 3rem;
        border: 1px solid rgba(111, 139, 58, 0.25);
        box-shadow: 0 25px 55px rgba(0, 0, 0, 0.4);
        display: flex;
        flex-direction: column;
        gap: 2.25rem;
      }

      .intro h1 {
        margin: 0;
        font-size: clamp(2.25rem, 5vw, 3.25rem);
        letter-spacing: 0.14em;
        text-transform: uppercase;
        color: var(--mustard-300);
      }

      .intro p {
        margin: 1rem 0 0;
        max-width: 600px;
        color: rgba(244, 239, 214, 0.88);
        line-height: 1.6;
      }

      .card {
        background: rgba(16, 20, 11, 0.85);
        border: 1px solid rgba(212, 160, 23, 0.18);
        border-radius: 22px;
        padding: 2rem;
        display: grid;
        gap: 1.5rem;
        box-shadow: 0 18px 44px rgba(0, 0, 0, 0.3);
      }

      .world-map {
        gap: 2rem;
      }

      .map-grid {
        display: grid;
        grid-template-columns: minmax(0, 2fr) minmax(0, 1fr);
        gap: 2rem;
        align-items: start;
      }

      .map-figure {
        margin: 0;
        display: grid;
        gap: 1rem;
        padding: 1.25rem;
        border-radius: 18px;
        border: 1px solid rgba(212, 160, 23, 0.16);
        background: linear-gradient(160deg, rgba(22, 29, 15, 0.9), rgba(63, 74, 35, 0.25));
        box-shadow: inset 0 0 0 1px rgba(111, 139, 58, 0.18);
        position: relative;
        overflow: hidden;
      }

      .map-figure::after {
        content: '';
        position: absolute;
        inset: 12% 18%;
        border-radius: 40% 45% 50% 55%;
        background: radial-gradient(circle at top left, rgba(240, 217, 138, 0.18), transparent 60%);
        pointer-events: none;
        mix-blend-mode: screen;
      }

      .map-figure svg {
        width: 100%;
        height: auto;
        display: block;
        border-radius: 14px;
        background: radial-gradient(circle at 30% 30%, rgba(63, 74, 35, 0.7), rgba(16, 20, 11, 0.95));
        box-shadow: 0 20px 50px rgba(0, 0, 0, 0.45);
      }

      .map-figure figcaption {
        margin: 0;
        color: rgba(245, 240, 217, 0.75);
      }

      .map-legend {
        list-style: none;
        padding: 0;
        margin: 0;
        display: grid;
        gap: 1rem;
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      }

      .map-legend li {
        display: grid;
        grid-template-columns: auto 1fr;
        gap: 1rem;
        align-items: start;
        padding: 1rem 1.25rem;
        border-radius: 16px;
        border: 1px solid rgba(212, 160, 23, 0.15);
        background: rgba(22, 30, 18, 0.7);
        box-shadow: inset 0 0 0 1px rgba(63, 74, 35, 0.22);
      }

      .legend-marker {
        width: 18px;
        height: 18px;
        border-radius: 50%;
        background: radial-gradient(circle at 30% 30%, rgba(240, 217, 138, 0.85), rgba(212, 160, 23, 0.65));
        box-shadow: 0 0 0 2px rgba(212, 160, 23, 0.35);
        position: relative;
      }

      .legend-marker::after {
        content: '';
        position: absolute;
        inset: -6px;
        border-radius: 50%;
        border: 2px solid rgba(212, 160, 23, 0.25);
        opacity: 0.8;
      }

      .map-legend h3 {
        margin: 0;
        font-size: 1.05rem;
        letter-spacing: 0.06em;
        text-transform: uppercase;
        color: var(--mustard-300);
      }

      .map-legend p {
        margin: 0.5rem 0 0;
        color: rgba(245, 240, 217, 0.72);
        line-height: 1.5;
      }

      .map-figure .ocean {
        fill: url(#oceanGradient);
      }

      .map-figure .land {
        fill: url(#landGradient);
        stroke: rgba(16, 20, 11, 0.65);
        stroke-width: 2;
      }

      .map-figure .land-edge {
        fill: none;
        stroke: rgba(240, 217, 138, 0.28);
        stroke-width: 2.5;
        stroke-linecap: round;
        stroke-linejoin: round;
      }

      .map-marker-core {
        fill: rgba(240, 217, 138, 0.9);
        stroke: rgba(16, 20, 11, 0.55);
        stroke-width: 1.5;
      }

      .map-marker-ring {
        fill: none;
        stroke: rgba(212, 160, 23, 0.4);
        stroke-width: 3;
        transform-origin: center;
        animation: pulse-ring 3s ease-in-out infinite;
      }

      @keyframes pulse-ring {
        0% {
          transform: scale(0.75);
          opacity: 0.85;
        }
        70% {
          transform: scale(1.4);
          opacity: 0;
        }
        100% {
          transform: scale(0.75);
          opacity: 0;
        }
      }

      .story-content {
        display: grid;
        gap: 1rem;
        color: rgba(245, 240, 217, 0.8);
        line-height: 1.7;
      }

      .character-list {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        gap: 1rem;
      }

      .character-card {
        background: rgba(22, 30, 18, 0.65);
        border-radius: 16px;
        padding: 1.25rem;
        border: 1px solid rgba(212, 160, 23, 0.15);
        box-shadow: inset 0 0 0 1px rgba(63, 74, 35, 0.25);
        display: grid;
        gap: 0.5rem;
      }

      .character-card h3 {
        margin: 0;
        font-size: 1.1rem;
        letter-spacing: 0.05em;
        text-transform: uppercase;
        color: var(--mustard-300);
      }

      .gallery-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
        gap: 1rem;
      }

      .gallery-item {
        background: linear-gradient(135deg, rgba(212, 160, 23, 0.12), rgba(111, 139, 58, 0.15));
        border-radius: 16px;
        border: 1px solid rgba(212, 160, 23, 0.15);
        padding: 1rem;
        display: grid;
        gap: 0.75rem;
        box-shadow: inset 0 0 0 1px rgba(63, 74, 35, 0.2);
      }

      .gallery-illustration {
        border-radius: 12px;
        aspect-ratio: 4 / 3;
        background: radial-gradient(circle at 30% 30%, rgba(240, 217, 138, 0.65), rgba(31, 38, 21, 0.6)),
          linear-gradient(180deg, rgba(63, 74, 35, 0.65), rgba(16, 20, 11, 0.85));
      }

      .gallery-item figcaption {
        margin: 0;
        color: rgba(245, 240, 217, 0.8);
      }

      .card-header h2 {
        margin: 0;
        font-size: 1.5rem;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        color: var(--mustard-300);
      }

      .card-header p {
        margin: 0.75rem 0 0;
        color: rgba(245, 240, 217, 0.75);
      }

      .chat-controls {
        display: flex;
        gap: 1rem;
        align-items: center;
      }

      .chat-controls input[type='text'] {
        flex: 1;
        background: rgba(19, 28, 16, 0.92);
        border: 1px solid rgba(212, 160, 23, 0.2);
        border-radius: 14px;
        padding: 0.85rem 1rem;
        color: inherit;
        font-size: 1rem;
        transition: border-color 0.2s ease;
      }

      .chat-controls input[type='text']:focus {
        outline: none;
        border-color: rgba(212, 160, 23, 0.45);
        box-shadow: 0 0 0 3px rgba(212, 160, 23, 0.12);
      }

      .chat-controls button {
        background: linear-gradient(135deg, rgba(212, 160, 23, 0.95), rgba(111, 139, 58, 0.95));
        border: none;
        border-radius: 14px;
        padding: 0.85rem 1.5rem;
        font-weight: 700;
        cursor: pointer;
        color: #10140b;
        transition: transform 0.2s ease, box-shadow 0.2s ease;
        box-shadow: 0 14px 30px rgba(212, 160, 23, 0.25);
      }

      .chat-controls button:hover,
      .chat-controls button:focus-visible {
        transform: translateY(-1px);
        box-shadow: 0 16px 32px rgba(212, 160, 23, 0.35);
        outline: none;
      }

      #log {
        min-height: 160px;
        max-height: 280px;
        overflow-y: auto;
        padding: 1rem;
        background: rgba(17, 24, 14, 0.85);
        border-radius: 16px;
        border: 1px solid rgba(212, 160, 23, 0.18);
        display: grid;
        gap: 0.75rem;
      }

      #log p {
        margin: 0;
        line-height: 1.5;
      }

      .newsletter-form {
        display: grid;
        gap: 1rem;
      }

      .newsletter-form label {
        font-weight: 600;
        letter-spacing: 0.04em;
        text-transform: uppercase;
        color: rgba(245, 240, 217, 0.75);
      }

      .newsletter-form input[type='email'] {
        background: rgba(19, 28, 16, 0.92);
        border: 1px solid rgba(212, 160, 23, 0.2);
        border-radius: 14px;
        padding: 0.85rem 1rem;
        color: inherit;
        font-size: 1rem;
      }

      .newsletter-form input[type='email']:focus {
        outline: none;
        border-color: rgba(212, 160, 23, 0.45);
        box-shadow: 0 0 0 3px rgba(212, 160, 23, 0.12);
      }

      .newsletter-form button {
        justify-self: start;
        background: linear-gradient(135deg, rgba(212, 160, 23, 0.95), rgba(111, 139, 58, 0.95));
        border: none;
        border-radius: 14px;
        padding: 0.85rem 1.5rem;
        font-weight: 700;
        cursor: pointer;
        color: #10140b;
        transition: transform 0.2s ease, box-shadow 0.2s ease;
        box-shadow: 0 14px 30px rgba(212, 160, 23, 0.25);
      }

      .newsletter-form button:hover,
      .newsletter-form button:focus-visible {
        transform: translateY(-1px);
        box-shadow: 0 16px 32px rgba(212, 160, 23, 0.35);
        outline: none;
      }

      .newsletter-success {
        color: var(--mustard-300);
        font-weight: 600;
      }

      .newsletter-error {
        color: #f7b7a3;
        font-weight: 600;
      }

      .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        border: 0;
      }

      @media (max-width: 720px) {
        body {
          padding: 2rem 1rem 3rem;
        }

        .content {
          padding: 2rem;
        }

        .map-grid {
          grid-template-columns: 1fr;
        }

        .chat-controls {
          flex-direction: column;
          align-items: stretch;
        }

        .chat-controls button {
          width: 100%;
        }

        .menu {
          left: 1.5rem;
          right: 1.5rem;
        }

        .character-list {
          grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
        }

        .gallery-grid {
          grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
        }
      }
    </style>
  </head>
  <body>
    <div class="app-shell">
      <nav class="top-bar" aria-label="Birincil">
        <a class="brand" href="#anasayfa">
          <span class="brand-art" aria-hidden="true">
            <svg viewBox="0 0 120 120" role="img" aria-hidden="true">
              <defs>
                <linearGradient id="hairGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                  <stop offset="0%" stop-color="#111810" />
                  <stop offset="100%" stop-color="#1f2a1b" />
                </linearGradient>
                <linearGradient id="dressGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                  <stop offset="0%" stop-color="#d6b253" />
                  <stop offset="100%" stop-color="#dca936" />
                </linearGradient>
              </defs>
              <circle cx="60" cy="60" r="56" fill="#283118" stroke="#d4a017" stroke-width="3" />
              <path
                d="M38 92c12-4 20-4 44 0l-6-28H44z"
                fill="url(#dressGradient)"
                stroke="#f0d98a"
                stroke-width="2"
                stroke-linejoin="round"
              />
              <path
                d="M60 74c-10 0-20-10-20-24s10-24 20-24 20 10 20 24-10 24-20 24z"
                fill="#f8e7c7"
              />
              <path d="M40 36c6-6 16-10 20-10s14 2 20 10" fill="url(#hairGradient)" />
              <path
                d="M60 74c-10 0-18-10-18-20V38c4-4 11-6 18-6s14 2 18 6v16c0 10-8 20-18 20z"
                fill="#f8e7c7"
              />
              <path d="M42 44c4 4 10 6 18 6s14-2 18-6" stroke="#111" stroke-width="3" stroke-linecap="round" />
              <circle cx="50" cy="52" r="3" fill="#111" />
              <circle cx="70" cy="52" r="3" fill="#111" />
              <path d="M52 64c2 2 6 3 8 3s6-1 8-3" stroke="#111" stroke-width="2" stroke-linecap="round" />
              <path d="M48 82c4 4 12 6 12 6s8-2 12-6" stroke="#d4a017" stroke-width="2" stroke-linecap="round" />
              <path d="M30 84c10 12 24 18 30 18s20-6 30-18" stroke="#6f8b3a" stroke-width="4" stroke-linecap="round" />
            </svg>
          </span>
          <span class="brand-name">POCAHONTAS</span>
        </a>
        <button class="menu-toggle" type="button" aria-expanded="false" aria-controls="primary-menu">
          Menü
          <span class="toggle-icon" aria-hidden="true"></span>
        </button>
        <ul id="primary-menu" class="menu" hidden>
          <li><a href="#anasayfa">Anasayfa</a></li>
          <li><a href="#hikaye">Hikâye</a></li>
          <li><a href="#karakterler">Karakterler</a></li>
          <li><a href="#galeri">Galeri</a></li>
          <li><a href="#sohbet">Sohbet</a></li>
          <li><a href="#iletisim">İletişim</a></li>
          <li><a href="#harita">Dünya Haritası</a></li>
        </ul>
      </nav>

      <main class="content" id="anasayfa">
        <header class="intro">
          <h1>POCAHONTAS</h1>
          <p>
            Efsanevi kahramanın dünyasına hoş geldiniz. Koyu tonlu bu deneyimde, Pocahontas'ın doğayla iç içe hikâyesini keşfederken
            yapay zekâ destekli sohbet kutusuyla merak ettiklerinizi sorabilirsiniz.
          </p>
        </header>

        <section class="card" aria-labelledby="story-title" id="hikaye">
          <div class="card-header">
            <h2 id="story-title">Hikâye</h2>
            <p>Pocahontas'ın doğayla uyumlu yolculuğunun öne çıkan anları.</p>
          </div>
          <div class="story-content">
            <p>
              Pocahontas, kabilesinin bilgeliğini taşıyan genç bir lider olarak ormanların ve nehirlerin ritmini takip eder.
              Doğaya olan sezgisel bağını, değişime açık kalbiyle birleştirerek insanlar ve toprak arasında köprü kurar.
            </p>
            <p>
              Ziyaretçiler bu deneyimde, onun ruh eşliği ettiği rüzgârları ve fısıltıları dinlerken kendi iç seslerine kulak verme
              fırsatı bulurlar.
            </p>
          </div>
        </section>

        <section class="card" aria-labelledby="characters-title" id="karakterler">
          <div class="card-header">
            <h2 id="characters-title">Karakterler</h2>
            <p>Pocahontas'ın hikâyesini şekillendiren yol arkadaşlarıyla tanışın.</p>
          </div>
          <div class="character-list">
            <article class="character-card">
              <h3>Pocahontas</h3>
              <p>Doğayla uyum içinde yaşayan ve kabilesinin geleceğini korumak için cesur kararlar alan genç lider.</p>
            </article>
            <article class="character-card">
              <h3>Meeko</h3>
              <p>Yaramaz rakun dost, maceranın her anına neşe katan pratik zekâsıyla bilinir.</p>
            </article>
            <article class="character-card">
              <h3>Grandmother Willow</h3>
              <p>Ormanın bilge ruhu; hikâyedeki karmaşık duyguları sakinleştiren, rehberlik eden kadim bir ses.</p>
            </article>
            <article class="character-card">
              <h3>John Smith</h3>
              <p>Yeni ufuklar arayan kâşif; Pocahontas'ın dünyasını merakla keşfederken empatiyi öğrenir.</p>
            </article>
          </div>
        </section>

        <section class="card" aria-labelledby="gallery-title" id="galeri">
          <div class="card-header">
            <h2 id="gallery-title">Galeri</h2>
            <p>Pocahontas evreninden seçilmiş anları stilize illüstrasyonlarla keşfedin.</p>
          </div>
          <div class="gallery-grid">
            <figure class="gallery-item">
              <div class="gallery-illustration" aria-hidden="true"></div>
              <figcaption>Şelale kıyısında, rüzgârla dans eden yaprakların huzurlu buluşması.</figcaption>
            </figure>
            <figure class="gallery-item">
              <div class="gallery-illustration" aria-hidden="true"></div>
              <figcaption>Ay ışığının aydınlattığı ormanda kabile ateşinin sıcak parıltısı.</figcaption>
            </figure>
            <figure class="gallery-item">
              <div class="gallery-illustration" aria-hidden="true"></div>
              <figcaption>Nehir üzerinde süzülen kano, bilinmeyen diyarlara uzanan yolu işaret ediyor.</figcaption>
            </figure>
            <figure class="gallery-item">
              <div class="gallery-illustration" aria-hidden="true"></div>
              <figcaption>Grandmother Willow'un dalları arasında paylaşılan bilgece sırlar.</figcaption>
            </figure>
          </div>
        </section>

        <section class="card chat" aria-labelledby="chat-title" id="sohbet">
          <div class="card-header">
            <h2 id="chat-title">Hadi Benimle Sohbet Et</h2>
            <p>Merak ettiklerinizi sorun, yapay zekâdan hızlı ve sıcak bir yanıt alın.</p>
          </div>
          <div class="chat-controls">
            <label class="sr-only" for="msg">Mesajınız</label>
            <input type="text" id="msg" name="msg" placeholder="Mesajınızı yazın" autocomplete="off" />
            <button id="send">Gönder</button>
          </div>
          <div id="log" aria-live="polite" role="log"></div>
        </section>

        <section class="card" aria-labelledby="newsletter-title" id="iletisim">
          <div class="card-header">
            <h2 id="newsletter-title">Bültene Katılın</h2>
            <p>Yeni hikâyeler, sanat eserleri ve etkinliklerden ilk siz haberdar olun.</p>
          </div>
          <form class="newsletter-form" id="newsletter-form" novalidate>
            <label for="email">E-posta adresiniz</label>
            <input type="email" id="email" name="email" placeholder="ornek@pocahontas.com" autocomplete="email" required />
            <button type="submit">Katıl</button>
            <p id="newsletter-feedback" role="status" aria-live="polite"></p>
          </form>
        </section>

        <section class="card world-map" aria-labelledby="map-title" id="harita">
          <div class="card-header">
            <h2 id="map-title">Dünya Haritası</h2>
            <p>Pocahontas'ın doğa sevgisinden ilham alan toplulukların küresel dokunuşlarını keşfedin.</p>
          </div>
          <div class="map-grid">
            <figure class="map-figure">
              <svg viewBox="0 0 800 400" role="img" aria-labelledby="world-map-title world-map-desc">
                <title id="world-map-title">Dünya haritası</title>
                <desc id="world-map-desc">Koyu yeşil ve altın tonlarında stilize edilmiş kıtalar ve ilham noktaları.</desc>
                <defs>
                  <radialGradient id="oceanGradient" cx="50%" cy="45%" r="80%">
                    <stop offset="0%" stop-color="#1f2615" />
                    <stop offset="65%" stop-color="#161d0f" />
                    <stop offset="100%" stop-color="#10140b" />
                  </radialGradient>
                  <linearGradient id="landGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                    <stop offset="0%" stop-color="#d4a017" stop-opacity="0.85" />
                    <stop offset="50%" stop-color="#8b9b52" stop-opacity="0.85" />
                    <stop offset="100%" stop-color="#4a5b2c" stop-opacity="0.95" />
                  </linearGradient>
                </defs>
                <rect class="ocean" x="0" y="0" width="800" height="400" rx="24" />
                <path
                  class="land"
                  d="M80 220C80 190 100 160 140 140C170 120 210 110 250 130C280 150 300 190 270 210C250 230 230 240 210 250C190 260 160 270 130 260C100 250 90 240 80 220Z"
                />
                <path
                  class="land"
                  d="M260 230C270 250 290 280 300 310C305 330 290 360 270 360C250 350 240 320 235 290C232 270 240 250 260 230Z"
                />
                <path
                  class="land"
                  d="M320 140C360 120 410 110 460 130C500 140 550 150 590 170C620 190 640 210 650 230C660 250 640 260 610 260C580 260 550 250 520 250C480 250 450 240 420 230C390 220 360 210 340 200C320 190 300 170 320 140Z"
                />
                <path
                  class="land"
                  d="M360 210C380 220 400 250 410 280C420 310 410 340 380 350C350 340 340 310 335 280C330 250 340 220 360 210Z"
                />
                <path
                  class="land"
                  d="M620 270C640 260 670 270 690 290C700 300 700 320 680 330C660 340 640 330 620 320C610 310 610 280 620 270Z"
                />
                <path class="land" d="M560 280C570 270 590 280 600 295C595 305 580 310 570 300Z" />
                <path class="land" d="M220 80C240 70 260 80 260 100C240 105 230 100 220 90Z" />
                <path class="land" d="M320 160C330 150 340 160 335 170C325 175 320 170 320 160Z" />
                <path class="land-edge" d="M140 320C240 300 340 320 440 310" />
                <path class="land-edge" d="M420 180C480 160 540 170 600 200" />
                <path class="land-edge" d="M520 310C580 300 620 310 660 300" />
                <g aria-hidden="true">
                  <g>
                    <circle class="map-marker-ring" cx="205" cy="205" r="16" />
                    <circle class="map-marker-core" cx="205" cy="205" r="6" />
                  </g>
                  <g>
                    <circle class="map-marker-ring" cx="380" cy="280" r="16" />
                    <circle class="map-marker-core" cx="380" cy="280" r="6" />
                  </g>
                  <g>
                    <circle class="map-marker-ring" cx="620" cy="220" r="16" />
                    <circle class="map-marker-core" cx="620" cy="220" r="6" />
                  </g>
                </g>
              </svg>
              <figcaption>Harita, Pocahontas'ın ruhunu taşıyan ekolojik hikâyeleri dünyaya yayıyor.</figcaption>
            </figure>
            <ul class="map-legend">
              <li>
                <span class="legend-marker" aria-hidden="true"></span>
                <div>
                  <h3>Orman Fısıltıları</h3>
                  <p>Kuzey ormanlarından gelen yerel hikâyeler, sürdürülebilir gelenekleri günümüze taşıyor.</p>
                </div>
              </li>
              <li>
                <span class="legend-marker" aria-hidden="true"></span>
                <div>
                  <h3>Nehir Rehberleri</h3>
                  <p>Amazon ve Nil boyunca uzanan topluluklar, suyla kurulan bağın bilgisini paylaşıyor.</p>
                </div>
              </li>
              <li>
                <span class="legend-marker" aria-hidden="true"></span>
                <div>
                  <h3>Rüzgâr Yolcuları</h3>
                  <p>Pasifik adalarındaki hikâye anlatıcıları, rüzgârın yön verdiği umut mesajlarını iletiyor.</p>
                </div>
              </li>
            </ul>
          </div>
        </section>
      </main>
    </div>

    <script>
      const menuToggle = document.querySelector('.menu-toggle');
      const primaryMenu = document.querySelector('#primary-menu');

      if (menuToggle && primaryMenu) {
        const openMenu = () => {
          if (primaryMenu.classList.contains('is-open')) {
            return;
          }
          primaryMenu.hidden = false;
          requestAnimationFrame(() => {
            primaryMenu.classList.add('is-open');
          });
        };

        const closeMenu = () => {
          if (primaryMenu.hidden) return;
          primaryMenu.classList.remove('is-open');
        };

        menuToggle.addEventListener('click', () => {
          const expanded = menuToggle.getAttribute('aria-expanded') === 'true';
          menuToggle.setAttribute('aria-expanded', String(!expanded));
          if (expanded) {
            closeMenu();
          } else {
            openMenu();
          }
        });

        primaryMenu.addEventListener('transitionend', (event) => {
          if (event.propertyName === 'max-height' && !primaryMenu.classList.contains('is-open')) {
            primaryMenu.hidden = true;
          }
        });

        document.addEventListener('click', (event) => {
          if (
            !primaryMenu.hidden &&
            !primaryMenu.contains(event.target) &&
            event.target !== menuToggle &&
            !menuToggle.contains(event.target)
          ) {
            menuToggle.setAttribute('aria-expanded', 'false');
            closeMenu();
          }
        });

        document.addEventListener('keydown', (event) => {
          if (event.key === 'Escape' && !primaryMenu.hidden) {
            menuToggle.setAttribute('aria-expanded', 'false');
            closeMenu();
          }
        });
      }

      const messageInput = document.querySelector('#msg');
      const sendBtn = document.querySelector('#send');
      const logArea = document.querySelector('#log');

      if (sendBtn && messageInput && logArea) {
        sendBtn.addEventListener('click', handleSendMessage);
        messageInput.addEventListener('keydown', (event) => {
          if (event.key === 'Enter' && !event.shiftKey) {
            event.preventDefault();
            handleSendMessage();
          }
        });
      }

      async function handleSendMessage() {
        const userMessage = (messageInput.value || '').trim();

        if (!userMessage) {
          alert('Lütfen bir mesaj yazın!');
          messageInput.focus();
          return;
        }

        appendLog('Siz', userMessage);
        messageInput.value = '';
        sendBtn.disabled = true;

        try {
          const response = await fetch('/api/chat', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
            },
            body: JSON.stringify({ message: userMessage }),
          });

          if (!response.ok) {
            const errorData = await response.json().catch(() => ({}));
            const errorMessage = errorData.error || 'Sunucu hatası veya API anahtarı eksik.';
            appendLog('Sistem', errorMessage, true);
            return;
          }

          const data = await response.json();
          appendLog('Asistan', data.reply || 'Yanıt alınamadı.');
        } catch (error) {
          console.error('Sohbet isteği başarısız:', error);
          appendLog('Sistem', 'Sunucu hatası veya API anahtarı eksik.', true);
        } finally {
          sendBtn.disabled = false;
          messageInput.focus();
        }
      }

      function appendLog(author, message, isError = false) {
        const paragraph = document.createElement('p');
        const prefix = document.createElement('strong');
        prefix.textContent = `${author}: `;
        paragraph.appendChild(prefix);
        paragraph.append(message);

        if (isError) {
          paragraph.style.color = '#f7b7a3';
        }

        logArea.appendChild(paragraph);
        logArea.scrollTop = logArea.scrollHeight;
      }

      const newsletterForm = document.querySelector('#newsletter-form');
      const newsletterFeedback = document.querySelector('#newsletter-feedback');

      if (newsletterForm && newsletterFeedback) {
        newsletterForm.addEventListener('submit', (event) => {
          event.preventDefault();
          const emailInput = newsletterForm.querySelector('#email');
          const email = (emailInput.value || '').trim();

          if (!email) {
            setNewsletterFeedback('Lütfen bir e-posta adresi girin.', true);
            emailInput.focus();
            return;
          }

          const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
          if (!emailRegex.test(email)) {
            setNewsletterFeedback('Geçerli bir e-posta adresi girin.', true);
            emailInput.focus();
            return;
          }

          setNewsletterFeedback('Teşekkürler! Bültene başarıyla katıldınız.', false);
          emailInput.value = '';
          emailInput.focus();
        });
      }

      function setNewsletterFeedback(message, isError) {
        newsletterFeedback.textContent = message;
        newsletterFeedback.className = isError ? 'newsletter-error' : 'newsletter-success';
      }
    </script>
  </body>
</html>
